query DataCubes($locale: String!) {
  dataCubes(locale: $locale) {
    iri
    title
    description
  }
}

fragment componentFields on Component {
  iri
  label
}

query DataCubePreview($iri: String!, $locale: String!) {
  dataCubeByIri(iri: $iri, locale: $locale) {
    iri
    title
    description
    dimensions {
      ...componentFields
    }
    measures {
      ...componentFields
    }
  }
}

query DataCubePreviewObservations(
  $iri: String!
  $locale: String!
  $measures: [String!]!
) {
  dataCubeByIri(iri: $iri, locale: $locale) {
    observations(limit: 10, measures: $measures) {
      data
      sparql
    }
  }
}

fragment observationFields on DataCube {
  observations(limit: 10) {
    data
  }
}

query DataCubesWithObservations {
  dataCubes {
    iri
    title
    contact
    description
    ...observationFields
  }
}
